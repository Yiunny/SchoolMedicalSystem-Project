<Window x:Class="SchoolMedicalSystem.WPF.Views.StudentDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding WindowTitle}" Height="550" Width="400"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize"
        WindowStyle="ToolWindow">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <TextBlock Text="Họ và Tên:"/>
            <TextBox Margin="0,5,0,10" Text="{Binding Student.FullName, UpdateSourceTrigger=PropertyChanged}"/>

            <TextBlock Text="Mã Học Sinh:"/>
            <TextBox Margin="0,5,0,10" 
                     Text="{Binding Student.StudentCode, UpdateSourceTrigger=PropertyChanged}"
                     IsReadOnly="True" 
                     Background="#EEEEEE"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,5,0">
                    <TextBlock Text="Ngày Sinh:"/>
                    <DatePicker Margin="0,5,0,10" SelectedDate="{Binding Student.DateOfBirth, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Margin="5,0,0,0">
                    <TextBlock Text="Giới tính:"/>
                    <ComboBox Margin="0,5,0,10" ItemsSource="{Binding Genders}" SelectedItem="{Binding Student.Gender}"/>
                </StackPanel>
            </Grid>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,5,0">
                    <TextBlock Text="Khối:"/>
                    <ComboBox Margin="0,5,0,10" 
                              ItemsSource="{Binding Grades}" 
                              SelectedItem="{Binding SelectedGrade}"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Margin="5,0,0,0">
                    <TextBlock Text="Lớp:"/>
                    <ComboBox Margin="0,5,0,10" 
                              ItemsSource="{Binding ClassSuffixes}" 
                              SelectedItem="{Binding SelectedClassSuffix}"/>
                </StackPanel>
            </Grid>

            <TextBlock Text="Địa chỉ:"/>
            <TextBox Margin="0,5,0,10" Text="{Binding Student.Address, UpdateSourceTrigger=PropertyChanged}"/>

            <TextBlock Text="Tên Phụ huynh:"/>
            <TextBox Margin="0,5,0,10" Text="{Binding Student.ParentName, UpdateSourceTrigger=PropertyChanged}"/>

            <TextBlock Text="SĐT Phụ huynh:"/>
            <TextBox Margin="0,5,0,10" Text="{Binding Student.ParentPhoneNumber, UpdateSourceTrigger=PropertyChanged}"/>

            <TextBlock Text="Tiền sử dị ứng (nếu có):"/>
            <TextBox Margin="0,5,0,10" Text="{Binding Student.Allergies, UpdateSourceTrigger=PropertyChanged}"/>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Content="Lưu" Width="80" IsDefault="True" Command="{Binding SaveCommand}" CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
                <Button Content="Hủy" Width="80" Margin="10,0,0,0" IsCancel="True"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>